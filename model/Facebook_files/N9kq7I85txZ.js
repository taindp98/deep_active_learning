if (self.CavalryLogger) { CavalryLogger.start_js(["+u0Ec1H"]); }

__d("UFI2FeedbackReactMutation.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"input"},{defaultValue:null,kind:"LocalArgument",name:"useDefaultActor"}],b=[{kind:"Variable",name:"data",variableName:"input"}],c={alias:null,args:null,kind:"ScalarField",name:"detection_analytics_enabled",storageKey:null},d=[{kind:"Variable",name:"use_default_actor",variableName:"useDefaultActor"}],e={alias:null,args:null,kind:"ScalarField",name:"key",storageKey:null},f={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},g={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},h={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},i={alias:"i18n_reaction_count",args:null,kind:"ScalarField",name:"reaction_count_reduced",storageKey:null},j={alias:null,args:null,kind:"ScalarField",name:"count",storageKey:null};return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"UFI2FeedbackReactMutation",selections:[{alias:null,args:b,concreteType:"FeedbackReactResponsePayload",kind:"LinkedField",name:"feedback_react",plural:!1,selections:[{alias:null,args:null,concreteType:"Feedback",kind:"LinkedField",name:"feedback",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"UFI2ReactionActionLink_feedback"},{args:null,kind:"FragmentSpread",name:"UFI2ReactionsCount_feedback"},{args:null,kind:"FragmentSpread",name:"UFI2CommentTopReactions_feedback"},{args:null,kind:"FragmentSpread",name:"UFI2CommentTopReactionsWrapper_feedback"},{args:null,kind:"FragmentSpread",name:"UFI2TopReactions_feedback"},{args:null,kind:"FragmentSpread",name:"UFI2FeedbackReactMutation_feedback"}],storageKey:null},c],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"UFI2FeedbackReactMutation",selections:[{alias:null,args:b,concreteType:"FeedbackReactResponsePayload",kind:"LinkedField",name:"feedback_react",plural:!1,selections:[{alias:null,args:null,concreteType:"Feedback",kind:"LinkedField",name:"feedback",plural:!1,selections:[{alias:null,args:d,kind:"ScalarField",name:"can_viewer_react",storageKey:null},{alias:null,args:d,concreteType:"FeedbackReactionInfo",kind:"LinkedField",name:"viewer_feedback_reaction_info",plural:!1,selections:[e,f,g],storageKey:null},f,{alias:null,args:d,concreteType:null,kind:"LinkedField",name:"viewer_actor",plural:!1,selections:[g,f,h],storageKey:null},{alias:null,args:null,concreteType:"FeedbackReaction",kind:"LinkedField",name:"supported_reactions",plural:!0,selections:[e,f],storageKey:null},{alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"associated_video",plural:!1,selections:[f],storageKey:null},{alias:null,args:[{kind:"Literal",name:"orderby",value:["COUNT_DESC","REACTION_TYPE"]}],concreteType:"TopReactionsConnection",kind:"LinkedField",name:"top_reactions",plural:!1,selections:[{alias:null,args:null,concreteType:"TopReactionsEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"reaction_count",storageKey:null},{alias:null,args:null,concreteType:"FeedbackReactionInfo",kind:"LinkedField",name:"node",plural:!1,selections:[e,f,{alias:null,args:null,kind:"ScalarField",name:"reaction_type",storageKey:null},{alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"svg_image",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"localized_name",storageKey:null}],storageKey:null},i],storageKey:null}],storageKey:'top_reactions(orderby:["COUNT_DESC","REACTION_TYPE"])'},{alias:null,args:null,concreteType:"ReactorsOfContentConnection",kind:"LinkedField",name:"reactors",plural:!1,selections:[j,{alias:null,args:null,kind:"ScalarField",name:"is_empty",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"count_reduced",storageKey:null}],storageKey:null},i,{alias:null,args:[{kind:"Literal",name:"first",value:2}],concreteType:"ImportantReactorsConnection",kind:"LinkedField",name:"important_reactors",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"nodes",plural:!0,selections:[g,h,f],storageKey:null}],storageKey:"important_reactors(first:2)"},{alias:"reaction_count",args:null,concreteType:"ReactorsOfContentConnection",kind:"LinkedField",name:"reactors",plural:!1,selections:[j],storageKey:null},{alias:null,args:null,concreteType:"ReactionDisplayConfig",kind:"LinkedField",name:"reaction_display_config",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"reaction_display_strategy",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"should_show_top_reactions",storageKey:null}],storageKey:null},c],storageKey:null}]},params:{id:"3973939662700159",metadata:{},name:"UFI2FeedbackReactMutation",operationKind:"mutation",text:null}}}();e.exports=a}),null);
__d("UFI2FeedbackReactMutation_feedback.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{alias:null,args:null,kind:"ScalarField",name:"key",storageKey:null}];return{argumentDefinitions:[{kind:"RootArgument",name:"useDefaultActor"}],kind:"Fragment",metadata:{mask:!1},name:"UFI2FeedbackReactMutation_feedback",selections:[{alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"associated_video",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null},{alias:null,args:[{kind:"Literal",name:"orderby",value:["COUNT_DESC","REACTION_TYPE"]}],concreteType:"TopReactionsConnection",kind:"LinkedField",name:"top_reactions",plural:!1,selections:[{alias:null,args:null,concreteType:"TopReactionsEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"reaction_count",storageKey:null},{alias:null,args:null,concreteType:"FeedbackReactionInfo",kind:"LinkedField",name:"node",plural:!1,selections:a,storageKey:null}],storageKey:null}],storageKey:'top_reactions(orderby:["COUNT_DESC","REACTION_TYPE"])'},{alias:null,args:null,concreteType:"ReactorsOfContentConnection",kind:"LinkedField",name:"reactors",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"count",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_empty",storageKey:null}],storageKey:null},{alias:null,args:[{kind:"Variable",name:"use_default_actor",variableName:"useDefaultActor"}],concreteType:"FeedbackReactionInfo",kind:"LinkedField",name:"viewer_feedback_reaction_info",plural:!1,selections:a,storageKey:null}],type:"Feedback",abstractKey:null}}();e.exports=a}),null);
__d("addFocusEvents",["Deferred","Event","SubscriptionList","promiseDone","react"],(function(a,b,c,d,e,f,g){var h=d("react"),i=h.Component,j;a=function(a){var b=function(d){babelHelpers.inheritsLoose(b,d);function b(){return d.apply(this,arguments)||this}var e=b.prototype;e.componentDidMount=function(){var a=this;if(!j){var b,d;j=new(c("SubscriptionList"))(function(){b=c("Event").listen(window,"blur",function(){j&&j.fireCallbacks(!0),d&&d.remove(),d=c("Event").listen(document.documentElement,"focusin",function(){j&&j.fireCallbacks(!1),d&&d.remove(),d=null})})},function(){b&&b.remove(),d&&d.remove(),b=null,d=null,j=null})}this.subscription=j.add(function(b){a.locked=b})};e.componentWillUnmount=function(){this.subscription&&this.subscription.remove()};e.onClick=function(a){this.props.onClick&&this.props.onClick(a),this.deferred&&this.deferred.resolve(this.props.onMouseFocus)};e.onFocus=function(a){var b=this;this.deferred&&(this.deferred.reject(),this.deferred=null);if(this.locked)return;this.deferred=new(c("Deferred"))();c("promiseDone")(this.deferred.getPromise(),function(c){c&&c(a),b.deferred=null},function(){})};e.onKeyUp=function(a){this.props.onKeyUp&&this.props.onKeyUp(a),this.deferred&&this.deferred.resolve(this.props.onKeyboardFocus)};e.render=function(){var b=this.props,c=b.forwardedRef;b.onKeyboardFocus;b.onMouseFocus;b=babelHelpers.objectWithoutPropertiesLoose(b,["forwardedRef","onKeyboardFocus","onMouseFocus"]);return h.jsx(a,babelHelpers["extends"]({},b,{onClick:this.onClick.bind(this),onFocus:this.onFocus.bind(this),onKeyUp:this.onKeyUp.bind(this),ref:c}))};return b}(i);return h.forwardRef(function(a,c){return h.jsx(b,babelHelpers["extends"]({},a,{forwardedRef:c}))})};b=a;g["default"]=b}),98);
__d("UFIReactionsDialogLayerImpl.react",["csx","cx","invariant","BrowserSupport","CSS","DOM","DOMQuery","DataStore","Focus","Layer","Locale","Parent","RTLKeys","ReactDOMComet","ReactTransitionEvents","Style","SubscriptionsHandler","TabbableElements","Vector","ViewportBounds","cancelAnimationFrame","clearTimeout","ge","getElementPosition","getOverlayZIndex","memoize","react","requestAnimationFrameAcrossTransitions","setTimeoutAcrossTransitions"],(function(a,b,c,d,e,f,g,h,i,j){var k=d("react"),l="_1oxh",m="_2r6k",n="_2r6j",o=d("BrowserSupport").hasCSSAnimations(),p="_22uo",q="_6fqy",r=200,s={},t=function(b){babelHelpers.inheritsLoose(a,b);function a(){return b.apply(this,arguments)||this}var e=a.prototype;e.updatePosition=function(){var a=this.getInsertParent(),b=this.getCausalElement();if(b==null)return!0;var e=c("Vector").getElementPosition(b),f=c("Vector").getElementPosition(a);e=e.sub(f);f=c("Vector").getElementDimensions(a).x;d("Locale").isRTL()&&(e.x=f-e.x);f=c("Vector").getViewportDimensions().x;var g=c("Vector").getElementDimensions(this.getContentRoot()).x;e.x=Math.min(e.x,f-g);d("Locale").isRTL()?s.right=e.x+"px":s.left=e.x+"px";s.top=e.y+"px";s.zIndex=this._getZIndex(b,a);f=this.getRoot();f!=null||j(0,4781);c("Style").apply(f,s);return!0};e._getZIndex=function(a,b){a=c("getOverlayZIndex")(a,b);var e=d("Parent").byClass(b,"fbPhotoSnowliftContainer"),f=e&&d("DOMQuery").scry(e,".stageWrapper")[0];f&&(a=Math.max(a,c("getOverlayZIndex")(f,e)));f=c("ge")("pagelet_sidebar");if(f){e=d("DOMQuery").scry(f,".fbChatSidebar")[0];f=d("DOMQuery").scry(b,"._13pa")[0];e&&f==null&&(a=Math.max(a,parseInt(c("Style").get(e,"z-index"),10)+1))}return a};e.getContentRoot=function(){return this.contentRoot};e._buildWrapper=function(a,b){d("CSS").addClass(b,"_49v-");this.contentRoot=b;a=document.createElement("div");d("CSS").addClass(a,"_1oxj");a.appendChild(b);return a};return a}(c("Layer"));a=function(a){babelHelpers.inheritsLoose(b,a);function b(b,e){var f;f=a.call(this,b,e)||this;f.onTransitionHide=function(){d("ReactTransitionEvents").removeEndEventListener(f.layer.getContentRoot(),f.onTransitionHide),f.finishHide()};f.onTransitionShow=function(){var a=f.layer.getContentRoot();a!=null||j(0,4782);d("ReactTransitionEvents").removeEndEventListener(a,f.onTransitionShow);var b=c("requestAnimationFrameAcrossTransitions")(function(){d("CSS").removeClass(a,n)});f.handler.addSubscriptions({remove:function(){c("cancelAnimationFrame")(b)}})};f.onKeyDown=function(a){var b=a.keyCode;if(!f.props.shouldRenderDialog&&f.props.isScreenReader)return;if(b===c("RTLKeys").ESC||b===c("RTLKeys").RETURN||b===c("RTLKeys").SPACE||f.props.shouldRenderDialog!==!0&&b===c("RTLKeys").TAB){f.props.onLayerBlur&&f.props.onLayerBlur(a);if(f.props.shouldRenderDialog===!0)return;var e=f.root.current,g=d("TabbableElements").find(f.getContextualLayerParent()),h=null,i=[];b=b===c("RTLKeys").TAB&&a.shiftKey;for(var j=0;j<g.length;j++)if(g[j].tabIndex>-1){if(e.compareDocumentPosition(g[j])&4){h=g[j];break}b&&i.push(g[j])}i.length&&(h=i[i.length-1]);h&&(d("Focus").set(h),a.preventDefault(),a.stopPropagation())}};f.getGlobalContainer=c("memoize")(function(){return c("ge")("globalContainer")});f.onParentLayerHide=f.finishHide.bind(babelHelpers.assertThisInitialized(f));f.root=k.createRef();return f}var e=b.prototype;e.componentDidMount=function(){var a=this.root.current;this.layer=new t({causalElement:a,insertParent:a},document.createElement("div"));c("DOM").appendContent(a,this.layer.getRoot());this.handler=new(c("SubscriptionsHandler"))();this.props.onLayerBlur&&this.handler.addSubscriptions(this.layer.subscribe("blur",this.props.onLayerBlur));this.handler.addSubscriptions(this.layer.subscribe("beforeshow",this.beforeShow.bind(this)),this.layer.subscribe("aftershow",this.afterShow.bind(this)),this.layer.subscribe("starthide",this.startHide.bind(this)));this.isInDocument()&&this.forceUpdate()};e.componentDidUpdate=function(){this.layer&&this.layer.conditionShow(this.props.shown),this.props.onLayerRender&&this.props.onLayerRender()};e.componentWillUnmount=function(){if(this.layer){var a=this.layer.getContentRoot();d("ReactTransitionEvents").removeEndEventListener(a,this.onTransitionHide);d("ReactTransitionEvents").removeEndEventListener(a,this.onTransitionShow);this.handler.release();this.handler=null;this.layer.destroy();this.layer=null}};e.isInDocument=function(){var a=this.root.current;return a&&document.body.contains(a)};e.afterShow=function(){var a=this;this.root.current!=null&&d("CSS").removeClass(this.root.current,this.props.shouldRenderDialog===!0?"_8yj0":"accessible_elem");var b=this.layer.getContentRoot();b!=null||j(0,4783);var e=c("getElementPosition")(b).y,f=c("ViewportBounds").getTop();d("CSS").conditionClass(b,l,!!(e&&e<f));if(o){d("ReactTransitionEvents").addEndEventListener(b,this.onTransitionShow);d("CSS").addClass(b,p);d("CSS").addClass(b,q);d("CSS").addClass(b,n);var g=c("setTimeoutAcrossTransitions")(function(){a.props.setAnimatingDock(!1),d("CSS").removeClass(b,q)},r);this.handler.addSubscriptions({remove:function(){c("clearTimeout")(g)}})}if(this.props.shouldFocusOnShow()){e=d("TabbableElements").find(b)[0];e&&e.focus()}};e.beforeShow=function(){o&&this.props.setAnimatingDock(!0);var a=this.getContextualLayerParent();!this.props.shouldRenderDialog&&this.props.isScreenReader?this.layer.setInsertParent(this.layer.getCausalElement()):a!==this.layer.getInsertParent()&&(this.layer.setInsertParent(a),this.setParentLayerSubscription(a))};e.setParentLayerSubscription=function(a){if(a!==this.getGlobalContainer()){this.parentLayerSubscription&&this.parentLayerSubscription.unsubscribe();this.parentLayer=null;return}a=a;var b=null;while(a!==null){b=d("DataStore").get(a,"layer");if(b)break;a=a.parentNode}if(b&&b!==this.parentLayer){this.parentLayerSubscription&&this.parentLayerSubscription.unsubscribe();a=b.subscribe("hide",this.onParentLayerHide);this.handler.addSubscriptions(a);this.parentLayerSubscription=a;this.parentLayer=b}};e.startHide=function(){if(o&&this.isInDocument()){var a=this.layer.getContentRoot();a!=null||j(0,4784);d("ReactTransitionEvents").addEndEventListener(a,this.onTransitionHide);d("CSS").addClass(a,m)}else this.finishHide();return!1};e.finishHide=function(){this.root.current!=null&&d("CSS").addClass(this.root.current,this.props.shouldRenderDialog===!0?"_8yj0":"accessible_elem");var a=this.layer.getContentRoot();a!=null||j(0,4785);o&&(d("CSS").removeClass(a,l),d("CSS").removeClass(a,m),d("CSS").removeClass(a,p));this.layer.setInsertParent(this.layer.getCausalElement());this.layer.finishHide()};e.getContextualLayerParent=function(){var a=this.root.current;if(a instanceof Element){a=d("Parent").byClass(a,"uiContextualLayerParent");if(a instanceof HTMLElement)return a}return document.body};e.renderLayer=function(){if(!this.layer)return null;var a=this.layer.getContentRoot();if(!a)return null;var b=this.props,c=b.isDarkBackground;b.isScreenReader;var e=b.noBackground;b.onLayerBlur;b.onLayerRender;var f=b.semiTransparentBackground;b.setAnimatingDock;b.shouldFocusOnShow;b.shouldRenderDialog;b.shown;b=babelHelpers.objectWithoutPropertiesLoose(b,["isDarkBackground","isScreenReader","noBackground","onLayerBlur","onLayerRender","semiTransparentBackground","setAnimatingDock","shouldFocusOnShow","shouldRenderDialog","shown"]);return d("ReactDOMComet").createPortal(k.jsxs("div",babelHelpers["extends"]({},b,{className:"_1oxk always-enable-animations",onKeyDown:this.onKeyDown,children:[this.props.children,k.jsx("div",{className:"_41nt"+(c?" _3_jc":"")+(f?" _6la8":"")+(e?" hidden_elem":""),style:{height:this.props.height}})]})),a)};e.render=function(){return k.jsx("div",{className:"_2r6l"+(this.props.shouldRenderDialog!==!0?" accessible_elem":"")+(this.props.shouldRenderDialog===!0?" _8yj0":""),ref:this.root,children:this.renderLayer()})};return b}(k.Component);g["default"]=a}),98);
__d("fbjs/lib/shallowEqual",["shallowEqual"],(function(a,b,c,d,e,f){"use strict";e.exports=b("shallowEqual")}),null);
__d("shallowCompare",["fbjs/lib/shallowEqual"],(function(a,b,c,d,e,f){"use strict";function a(a,c,d){return!b("fbjs/lib/shallowEqual")(a.props,c)||!b("fbjs/lib/shallowEqual")(a.state,d)}f["default"]=a}),66);
__d("UFIReactionsMenuImpl.react",["cx","fbt","CometReactionIcon.react","CometTrackingNodeProvider.react","Event","FocusRegion.react","RTLKeys","SubscriptionsHandler","UFIReactionTypes","UFIReactionsDialogLayerImpl.react","addFocusEvents","focusScopeQueries","gkx","joinClasses","react","shallowCompare"],(function(a,b,c,d,e,f,g,h,i){var j=d("react"),k=8,l=44,m=39,n=i._("C\u1ea3m x\u00fac"),o=c("addFocusEvents")("span");a=function(a){babelHelpers.inheritsLoose(b,a);function b(b){var d;d=a.call(this)||this;d.selectedRef=j.createRef();d.$2=function(){d.subscriptionsHandler!=null&&(d.subscriptionsHandler.release(),d.subscriptionsHandler=null)};d.focusSelected=function(){var a=d.selectedRef.current;a&&a instanceof HTMLElement&&a.focus()};d.onLayerRender=function(){d.props.shouldFocusOnShow()&&d.focusSelected()};d.onKeyDown=function(a){var b=a.keyCode;switch(b){case c("RTLKeys").RETURN:case c("RTLKeys").SPACE:a.preventDefault();var e=d.state.supportedReactions[d.state.selectedIndex];d.props.initialReaction===e&&(e=c("UFIReactionTypes").NONE);e!==null&&e!==void 0&&d.props.onReactionClick&&d.props.onReactionClick(e,a);break;case c("RTLKeys").getLeft():case c("RTLKeys").getRight():if(d.props.shouldRenderDialog)break;a.preventDefault();d.setState(function(a){return{selectedIndex:Math.max(0,Math.min(a.selectedIndex+(b===c("RTLKeys").getLeft()?-1:1),a.supportedReactions.length-1))}},d.focusSelected);break}};d.setAnimatingDock=function(a){d.setState({isAnimatingDock:a})};var e=b.supportedReactions.filter(function(a){return c("UFIReactionTypes").reactions[a]!=null}),f=b.shouldFocusOnShow()?Math.max(0,e.indexOf(b.initialReaction)):-1;d.state={isAnimatingDock:!1,prevPropsShown:b.shown,shouldRenderMenu:b.shown,selectedIndex:f,supportedReactions:e};d.hasAnimatedIcons=c("gkx")("991383");d.animatedIconsUsePackage=c("gkx")("991384");return d}b.getDerivedStateFromProps=function(a,b){var d=a.supportedReactions.filter(function(a){return c("UFIReactionTypes").reactions[a]});if((!b.shouldRenderMenu||a.shouldRenderDialog&&!b.prevPropsShown)&&a.shown){var e=a.shouldRenderDialog&&a.shouldFocusOnShow()?Math.max(0,d.indexOf(a.initialReaction)):b.selectedIndex;return{selectedIndex:e,shouldRenderMenu:!0,prevPropsShown:a.shown,supportedReactions:d}}return!a.shown&&b.prevPropsShown?{selectedIndex:-1,prevPropsShown:a.shown,supportedReactions:d}:{supportedReactions:d,prevPropsShown:a.shown}};var e=b.prototype;e.componentDidMount=function(){this.props.shouldFocusOnShow()&&this.focusSelected(),this.props.isLongPressing&&this.$1()};e.componentWillUnmount=function(){this.$2()};e.componentDidUpdate=function(a){this.props.shouldFocusOnShow()&&!a.shouldFocusOnShow()&&this.focusSelected(),this.props.isLongPressing&&!a.isLongPressing?this.$1():!this.props.isLongPressing&&a.isLongPressing&&this.$2()};e.$1=function(){var a=this,b;this.$2();this.subscriptionsHandler=new(c("SubscriptionsHandler"))();this.subscriptionsHandler.addSubscriptions(c("Event").listen(document.documentElement,"touchmove",function(c){c.preventDefault();var d=c.touches[0];d=document.elementFromPoint(d.clientX,d.clientY);d&&!d.getAttribute("data-reaction")&&d.parentElement&&(d=d.parentElement);d=d?parseInt(d.getAttribute("data-reaction"),10)||null:null;d!==b&&(b&&a.onReactionMouseLeave(b,c),d&&a.onReactionMouseEnter(d,c),b=d)}),c("Event").listen(document.documentElement,"mousemove",function(c){var d=document.elementFromPoint(c.clientX,c.clientY);if(d!=null){!d.getAttribute("data-reaction")&&d.parentElement&&(d=d.parentElement);d=parseInt(d.getAttribute("data-reaction"),10)||null;d!==b&&(b&&a.onReactionMouseLeave(b,c),d&&a.onReactionMouseEnter(d,c),b=d)}}),c("Event").listen(document.documentElement,"touchcancel",this.$2),c("Event").listen(document.documentElement,"touchend",function(c){a.$2(),b&&a.onReactionClick(b,c)}),c("Event").listen(document.documentElement,"mouseup",function(c){a.$2(),b&&a.props.shown&&a.onReactionClick(b,c)}))};e.shouldComponentUpdate=function(a,b){return c("shallowCompare")(this,a,b)};e.onDragStart=function(a){a.preventDefault()};e.onKeyboardFocus=function(a,b){this.setState({selectedIndex:a}),this.props.onFocus&&this.props.onFocus(b)};e.onReactionClick=function(a,b,c,d){c===void 0&&(c=null),d===void 0&&(d=null),b.preventDefault(),!this.state.isAnimatingDock&&this.props.onReactionClick!=null&&this.props.onReactionClick(a,b,c,d)};e.onReactionMouseEnter=function(a,b){(!this.props.shouldRenderDialog||!this.props.shouldFocusOnShow())&&this.setState(function(b){return{selectedIndex:b.supportedReactions.indexOf(a)}}),this.props.onReactionMouseEnter&&this.props.onReactionMouseEnter(a)};e.onReactionMouseLeave=function(a,b){(!this.props.shouldRenderDialog||!this.props.shouldFocusOnShow())&&this.setState({selectedIndex:-1}),this.props.onReactionMouseLeave&&this.props.onReactionMouseLeave(a)};e.onCloseFocus=function(){this.props.shouldRenderDialog&&this.setState({selectedIndex:-1})};e.render=function(){var a=this,b=this.state.selectedIndex,e=this.state.supportedReactions.map(function(d,e){var f=c("UFIReactionTypes").reactions[d].display_name,g=a.onReactionClick.bind(a,d),h=Math.max(0,a.state.supportedReactions.indexOf(a.props.initialReaction))===e,i=a.props.icon,k;if(a.hasAnimatedIcons&&i&&i.supportsReaction(d)){var l=!!a.props.allowAnimationPlayback&&a.props.shown;k=!0;i=j.jsx(i,{animate:l,className:"_1ef0",selectedIndex:a.state.selectedIndex,maxSize:m,reactionID:d})}else k=!1,i=j.jsx(c("CometReactionIcon.react"),{reactionType:d,size:48});return j.jsx(c("CometTrackingNodeProvider.react"),{trackingNode:5,children:j.jsx(o,{"aria-pressed":a.props.initialReaction===d,"aria-label":f,className:"_iuw"+(b===e?" _iuy":""),"data-testid":void 0,onClick:g,onDragStart:a.onDragStart,onKeyboardFocus:a.onKeyboardFocus.bind(a,e),onMouseUp:a.props.onReactionMouseUp,onMouseDown:a.props.onReactionMouseDown,onMouseEnter:a.onReactionMouseEnter.bind(a,d),onMouseLeave:a.onReactionMouseLeave.bind(a,d),onTouchStart:a.onDragStart,onTouchEnd:g,ref:b===e?a.selectedRef:null,role:"button",tabIndex:a.props.shouldRenderDialog||h&&(!a.props.shown||b===-1||b===e)?0:-1,children:j.jsx("div",{className:"_39m"+(k?" _1ef2":""),"data-reaction":d,children:j.jsxs("div",{className:"_39n",children:[i,j.jsx("div",{className:"_d6l",children:j.jsx("div",{className:"_4sm1",children:f})})]})})})},"reaction_"+d)});if(!this.state.shouldRenderMenu)return null;e=j.jsxs("div",{className:c("joinClasses")("_iu-"+(this.props.shouldFocusOnShow()?" _5wkt":"")+" _628b",this.props.className),"data-testid":void 0,onKeyDown:this.onKeyDown,"aria-label":n,role:this.props.shouldRenderDialog?"dialog":"toolbar",children:[e,this.props.shouldRenderDialog?j.jsx("div",{className:"accessible_elem",children:j.jsx("button",{onClick:this.props.onBlur,onFocus:this.onCloseFocus.bind(this),type:"button",children:i._("\u0110\u00f3ng menu c\u1ea3m x\u00fac")})}):null]});return this.props.shouldRenderInline===!0?e:j.jsx(d("FocusRegion.react").FocusRegion,{autoFocusQuery:this.props.shouldRenderDialog===!0&&this.props.shouldFocusOnShow()?d("focusScopeQueries").focusableScopeQuery:null,autoRestoreFocus:this.props.shouldRenderDialog===!0,recoverFocusQuery:this.props.shouldRenderDialog===!0?d("focusScopeQueries").focusableScopeQuery:null,containFocusQuery:this.props.shouldRenderDialog===!0&&this.props.shouldFocusOnShow()?d("focusScopeQueries").focusableScopeQuery:null,children:j.jsx(c("UFIReactionsDialogLayerImpl.react"),{height:l+k,setAnimatingDock:this.setAnimatingDock,isDarkBackground:this.props.isDarkBackground,isScreenReader:this.props.isScreenReader,onLayerBlur:this.props.onBlur,onLayerRender:this.onLayerRender,onMouseEnter:this.props.onMouseEnter,onMouseLeave:this.props.onMouseLeave,noBackground:this.props.noBackground,shouldFocusOnShow:this.props.shouldFocusOnShow,shouldRenderDialog:this.props.shouldRenderDialog,semiTransparentBackground:this.props.semiTransparentBackground,shown:this.props.shown,children:e})})};return b}(j.Component);g["default"]=a}),98);
__d("UFIReactionsMenuWithAnimatedIcons.react",["cx","UFIReactionsAnimatedKeyframesIcon.react","UFIReactionsMenuImpl.react","createCancelableFunction","joinClasses","promiseDone","react","requireDeferred"],(function(a,b,c,d,e,f,g,h){var i=d("react"),j=c("requireDeferred")("KeyframesEnvironment").__setRef("UFIReactionsMenuWithAnimatedIcons.react");a=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={allowAnimationPlayback:!1},b)||babelHelpers.assertThisInitialized(c)}var d=b.prototype;d.componentDidMount=function(){var a=this;!this.state.allowAnimationPlayback&&j.getModuleIfRequired()!=null&&(this.$1=c("createCancelableFunction")(function(){a.setState({allowAnimationPlayback:!0})}),j.onReady(function(b){c("promiseDone")(b.whenRenderLoopHasBeenStableOnce(),a.$1)}))};d.componentWillUnmount=function(){this.$1&&(this.$1.cancel(),this.$1=null)};d.render=function(){var a=c("joinClasses")("_1ef3",this.props.className);return i.jsx(c("UFIReactionsMenuImpl.react"),babelHelpers["extends"]({allowAnimationPlayback:this.state.allowAnimationPlayback},this.props,{className:a,icon:c("UFIReactionsAnimatedKeyframesIcon.react"),children:this.props.children}))};return b}(i.PureComponent);g["default"]=a}),98);
__d("UFI2ReactionsMenu",["cr:682215"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=b("cr:682215")}),98);
__d("UFI2FeedbackReactMutation",["invariant","ChannelClientID","FBLogger","FeedbackSourceType","JSEnumValueToGraphQLKey","RelayModern","RelayRuntime","UFI2FeedbackReactMutation.graphql","UFI2FeedbackReactMutation_feedback.graphql","UFIODSLogger","UFIReactionTypes","arrayStableSort","cr:1088250","setTimeoutAcrossTransitions"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=2,l=3e3,m=c("JSEnumValueToGraphQLKey")(c("FeedbackSourceType"),1);i!==void 0?i:i=b("UFI2FeedbackReactMutation_feedback.graphql");var n=j!==void 0?j:j=b("UFI2FeedbackReactMutation.graphql");function a(a){var b=a.actorID,e=a.environment,f=a.input,g=a.useDefaultActor,i=f.feedback_source,j=f.feedback_reaction;b={input:babelHelpers["extends"]({},f,{actor_id:b,feedback_source:i!=null?c("JSEnumValueToGraphQLKey")(c("FeedbackSourceType"),i):void 0,session_id:d("ChannelClientID").getID()}),useDefaultActor:g};i=function(a){var b=a.get(f.feedback_id);if(b==null){c("FBLogger")("ufi2").addMetadata("UFI","FEEDBACK_TARGET_ID",f.feedback_id).warn("UFI2FeedbackReactMutation: Could not find feedback in Relay store.");return}b.setValue(!0,"should_show_top_reactions");var d=p(a,f.feedback_id,b),e=b.getLinkedRecord("viewer_feedback_reaction_info",{use_default_actor:g}),i=e?e.getValue("key")||0:0;typeof i==="number"||h(0,3027);var k=b.getLinkedRecord("top_reactions",{orderby:["COUNT_DESC","REACTION_TYPE"]});if(!k){var l="client:top_reactions:"+f.feedback_id;k=a.create(l,"TopReactionsConnection")}r(a,k,j,i);var m;if(j===0){if(e!==null){l=d.getValue("count");k=typeof l==="number"?l:1;m=k-1}b.setValue(null,"viewer_feedback_reaction_info",{use_default_actor:g})}else{if(e===null){i=d.getValue("count");l=typeof i==="number"?i:0;m=l+1}e=q(a,j);b.setLinkedRecord(e,"viewer_feedback_reaction_info",{use_default_actor:g})}m!=null&&(d.setValue(m,"count"),d.setValue(m===0,"is_empty"));k=d.getValue("count_reduced");if(parseInt(k,10).toString()===k){i=d.getValue("count");typeof i==="number"&&d.setValue(i.toString(),"count_reduced")}};b={mutation:n,optimisticUpdater:i,variables:b};return o(e,b,i,0,f,a.onError)}function o(a,e,f,g,h,i){var j=d("RelayModern").commitMutation(a,babelHelpers["extends"]({},e,{onCompleted:function(a){a=e==null?void 0:(a=e.variables)==null?void 0:(a=a.input)==null?void 0:a.feedback_source;var c=Math.min(g+1,3);c=""+c+(g>=c?"+":"");a===m&&d("UFIODSLogger").bump("reaction.newsfeed.mutation.attempt."+c,"relay");d("UFIODSLogger").bump("reaction.mutation.attempt."+c,"relay");b("cr:1088250")&&b("cr:1088250")(h)},onError:function(b){if(b.name==="GraphQLError")return i(b);j=c("RelayRuntime").applyOptimisticMutation(a,babelHelpers["extends"]({},e,{optimisticUpdater:f}));if(g>=k)return i(b);c("setTimeoutAcrossTransitions")(function(){j&&j.dispose(),j=o(a,e,f,g+1,h,i)},l)}}));return{dispose:function(){j&&j.dispose(),j=null}}}function p(a,b,d){var e=d.getLinkedRecord("reactors");if(!e){c("FBLogger")("ufi2").addMetadata("UFI","FEEDBACK_TARGET_ID",b).warn("Expected Feedback record proxy to have a reactors connection");b="client:reactors:"+b;e=a.get(b)||a.create(b,"ReactorsOfContentConnection");e.setValue(0,"count");e.setValue("0","count_reduced");e.setValue(!0,"is_empty");d.setLinkedRecord(e,"reactors")}return e}function q(a,b){b!==0||h(0,3028);var d="client:reaction_info:"+b,e=a.get(d);if(!e){e=a.create(d,"FeedbackReactionInfo");e.setValue(b,"key");a=c("UFIReactionTypes").reactions[b];a||h(0,3029,b);e.setValue(a.display_name,"localized_name");e.setValue(a.name.toUpperCase(),"reaction_type")}return e}function r(a,b,d,e){var f=(b.getLinkedRecords("edges")||[]).map(function(a){if(!a)return null;var b=a.getLinkedRecord("node"),c=a.getValue("reaction_count")||0,d=b&&b.getValue("key")||0;typeof c==="number"&&typeof d==="number"||h(0,3027);return b&&c!==0&&d!==0?{count:c,edge:a,key:d}:null}).filter(Boolean);if(e){var g=f.find(function(a){return a.key===e});g&&g.count--}if(d){g=f.find(function(a){return a.key===d});if(!g){var i=q(a,d);a=c("RelayRuntime").ConnectionHandler.createEdge(a,b,i,"TopReactionsEdge");g={count:0,edge:a,key:d};f.push(g)}g.count++}i=c("arrayStableSort")(f,function(a,b){return b.count-a.count||c("UFIReactionTypes").ordering.indexOf(a.key)-c("UFIReactionTypes").ordering.indexOf(b.key)}).filter(function(a){return a.count!==0}).map(function(a){var b=a.edge;a=a.count;b.setValue(a,"reaction_count");b.setValue((a=b.getValue("reaction_count_reduced"))!=null?a:"","reaction_count_reduced");return b});b.setLinkedRecords(i,"edges")}g.commit=a}),98);
__d("KeyframesEnvironment",["KeyframesLoop","Promise","Run","debounceCore","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h=24,i=1e3/h,j=325;function k(a){a===void 0&&(a=j);return new(b("Promise"))(function(b){var d=c("debounceCore")(function(a){a.cancel(),b()},a),e=new(c("KeyframesLoop"))(function(a){a>i&&d(e)});d(e)})}var l=new(b("Promise"))(function(a){d("Run").onAfterLoad(function(){a()})});function m(a){return l.then(function(){return k(a)})}var n=m(),o=!1;c("promiseDone")(n,function(){o=!0});function a(a){return k(a)}function e(a){return m(a)}function f(){return n}function p(){return o}g.waitForRenderLoopToStabilize=a;g.waitForRenderLoopToStabilizeOncePageIsLoaded=e;g.whenRenderLoopHasBeenStableOnce=f;g.hasRenderLoopBeenStableOnce=p}),98);